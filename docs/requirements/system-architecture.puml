@startuml System Architecture
title TXNM System Architecture (MVP - Monolithic)

' Styling
skinparam component {
    BackgroundColor #ECF0F1
    BorderColor #2C3E50
    ArrowColor #2C3E50
}

' Layers
package "Client Layer" {
    [Web Frontend\nReact] as frontend
}

package "API Layer" {
    component "Spring Boot Backend" as backend
    component "Security Module" as security
    component "Document Controller" as doc
    component "Analytics Service" as analytics
    component "AI Service" as ai
    component "Payment Service" as payment
}

package "Processing Layer" {
    [PDF Processor] as pdf
    [Data Extractor] as extractor
    [Analytics Engine] as engine
    [AI Engine] as ai_engine
}

package "Storage Layer" {
    database "PostgreSQL" as db {
        [User Data]
        [Document Data]
        [Analytics Data]
        [Subscription Data]
    }
    
    database "Redis Cache" as redis {
        [Session Data]
        [Guest Data]
        [Cache]
    }
    
    [Object Storage\nS3] as s3
}

package "External Services" {
    [Google OAuth] as google
    [Payment Gateway] as payment_gateway
    [Email Service] as email
}

' Relationships
frontend --> backend

backend --> security
backend --> doc
backend --> analytics
backend --> ai
backend --> payment

backend --> pdf
backend --> extractor
backend --> engine
backend --> ai_engine

backend --> google
backend --> redis
backend --> db
backend --> s3
backend --> payment_gateway
backend --> email

' Notes
note right of frontend
  React SPA
  - Material UI
  - Redux Toolkit
  - React Query
  - TypeScript
end note

note right of backend
  Spring Boot Monolith
  - REST Controllers
  - Spring Security
  - JPA/Hibernate
  - Spring Data
  - Spring Cache
end note

note right of db
  Stores:
  - User data
  - Documents
  - Analytics
  - Subscriptions
end note

note right of redis
  Caches:
  - Sessions
  - Guest data
  - Analytics
  - AI responses
end note

note right of s3
  Stores:
  - PDF files
  - Generated reports
  - Business bills
end note

@enduml 